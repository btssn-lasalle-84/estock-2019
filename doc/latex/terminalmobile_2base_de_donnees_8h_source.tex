\hypertarget{terminalmobile_2base_de_donnees_8h_source}{}\subsection{terminalmobile/base\+De\+Donnees.h}
\label{terminalmobile_2base_de_donnees_8h_source}\index{base\+De\+Donnees.\+h@{base\+De\+Donnees.\+h}}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#ifndef BASEDEDONNEES\_H}
00002 \textcolor{preprocessor}{#define BASEDEDONNEES\_H}
00003 
00016 \textcolor{preprocessor}{#include <QObject>}
00017 \textcolor{preprocessor}{#include <QtSql/QtSql>}
00018 \textcolor{preprocessor}{#include <QSqlDatabase>}
00019 \textcolor{preprocessor}{#include <QMutex>}
00020 \textcolor{preprocessor}{#include <QString>}
00021 
00022 \textcolor{comment}{//#define DEBUG\_BASEDEDONNEES}
00023 
\Hypertarget{terminalmobile_2base_de_donnees_8h_source_l00024}\hyperlink{terminalmobile_2base_de_donnees_8h_a3760799f66ae5bcba760a4a6550d4206}{00024} \textcolor{preprocessor}{#define NB\_BASEDEDONNEES    2}
\Hypertarget{terminalmobile_2base_de_donnees_8h_source_l00025}\hyperlink{terminalmobile_2base_de_donnees_8h_a26d6b2af979a9747e911a07e64b2a954}{00025} \textcolor{preprocessor}{#define BDD\_SQLITE          0}
\Hypertarget{terminalmobile_2base_de_donnees_8h_source_l00026}\hyperlink{terminalmobile_2base_de_donnees_8h_aaf0ca062171227e6cb5722ad110fb783}{00026} \textcolor{preprocessor}{#define BDD\_MYSQL           1}
00027 
00028 \textcolor{keyword}{class }\hyperlink{class_base_de_donnees}{BaseDeDonnees} : \textcolor{keyword}{public} QObject
00029 \{
00030     Q\_OBJECT
00031     \textcolor{keyword}{public}:
00032         \textcolor{keyword}{static} \hyperlink{class_base_de_donnees}{BaseDeDonnees}* \hyperlink{class_base_de_donnees_a80028aa2b6b4fbf30fb2e36357b7d3d3}{getInstance}(QString type);
00033         \textcolor{keyword}{static} \textcolor{keywordtype}{void} \hyperlink{class_base_de_donnees_a457401c0816b888c77ce915997545f4e}{detruireInstance}(QString type);
00034 
00035         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_a00388973f3ec42e5c8e76e7af7e124b2}{estConnecte}();
00036         Q\_INVOKABLE \textcolor{keywordtype}{void} \hyperlink{class_base_de_donnees_ae780999d25a26a0e4dbe0706a4785978}{deconnecter}();
00037         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_ac20da193923a9bfea5e38ee5a54820cd}{connecter}(QString nomBase, QString username, QString password, QString 
      serveur);
00038         
00039         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_af9ac332082ffd0dd35e412cefabe5e9c}{estOuvert}();
00040         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_a7f6a5510b08017b0d99115a84252f186}{ouvrir}(QString fichierBase);
00041 
00042         \textcolor{comment}{/* uniquement pour : UPDATE, INSERT et DELETE */}
00043         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_aa8de5f8f8bb17edc43f5c0ee33712081}{executer}(QString requete);
00044 
00045         \textcolor{comment}{/* uniquement pour : SELECT */}
00046         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_a77539baad389f5acf754cd2cd452403e}{recuperer}(QString requete, QString &donnees); \textcolor{comment}{// 1 -> 1}
00047         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_a77539baad389f5acf754cd2cd452403e}{recuperer}(QString requete, QStringList &donnees); \textcolor{comment}{// 1 -> 1..*}
00048         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_a77539baad389f5acf754cd2cd452403e}{recuperer}(QString requete, QVector<QString> &donnees); \textcolor{comment}{// 1..* -> 1}
00049         Q\_INVOKABLE \textcolor{keywordtype}{bool} \hyperlink{class_base_de_donnees_a77539baad389f5acf754cd2cd452403e}{recuperer}(QString requete, QVector<QStringList> &donnees); \textcolor{comment}{// 1..* ->
       1..*}
00050 
00051     \textcolor{keyword}{private}:
00052         \hyperlink{class_base_de_donnees_a10dd177f1008f675ab78c2221b2a6750}{BaseDeDonnees}(QString type);
00053         \hyperlink{class_base_de_donnees_a5dc474cdbe003644fb0ca7b8f2ec6b93}{~BaseDeDonnees}();
00054 
00055         \textcolor{keyword}{static} \hyperlink{class_base_de_donnees}{BaseDeDonnees}*  \hyperlink{class_base_de_donnees_a218c44b630523435e2f6f8f2f0c484f8}{baseDeDonnees}[
      \hyperlink{terminalmobile_2base_de_donnees_8h_a3760799f66ae5bcba760a4a6550d4206}{NB\_BASEDEDONNEES}];
00056         \textcolor{keyword}{static} \textcolor{keywordtype}{int}             \hyperlink{class_base_de_donnees_a5d2e5264c826c6600fd20a9831fd1782}{nbAcces}[\hyperlink{terminalmobile_2base_de_donnees_8h_a3760799f66ae5bcba760a4a6550d4206}{NB\_BASEDEDONNEES}];
00057         QSqlDatabase           \hyperlink{class_base_de_donnees_a3e738dcf443370c46a541677ab619f06}{db};
\Hypertarget{terminalmobile_2base_de_donnees_8h_source_l00058}\hyperlink{class_base_de_donnees_a67c1d973c267a8f5fd6d7461550faa11}{00058}         QString                \hyperlink{class_base_de_donnees_a67c1d973c267a8f5fd6d7461550faa11}{nomBDD};
00059         QMutex                 \hyperlink{class_base_de_donnees_aa1b4696fac87a740f914aa73739086f2}{mutex};
00060 
00061         QSqlDatabase           \hyperlink{class_base_de_donnees_a467909531ae3cdebaf173f6e97cdc624}{getNomBDD}();
00062 \};
00063 
00064 \textcolor{preprocessor}{#endif // BASEDEDONNEES\_H}
\end{DoxyCode}
